<!DOCTYPE html>
<html lang="ru">
<head>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Poker Bot</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Segoe UI', Arial, sans-serif; 
            background: linear-gradient(135deg, #0f0f23, #1e293b);
            color: white; min-height: 100vh; 
            display: flex; flex-direction: column; align-items: center;
        }
        .header { text-align: center; padding: 30px 20px; }
        #balance { 
            background: linear-gradient(45deg, #10B981, #059669);
            display: inline-block; padding: 12px 25px; 
            border-radius: 30px; font-weight: bold; margin: 10px 0;
        }
        .lobby { 
            max-width: 500px; width: 90%; 
            background: rgba(255,255,255,0.1); 
            border-radius: 25px; padding: 40px; text-align: center;
            box-shadow: 0 20px 40px rgba(0,0,0,0.5); backdrop-filter: blur(10px);
        }
        .empty-state { 
            font-size: 18px; opacity: 0.8; margin: 20px 0;
            color: #9CA3AF;
        }
        .create-btn { 
            background: linear-gradient(45deg, #8B5CF6, #7C3AED); 
            color: white; border: none; padding: 20px 40px;
            border-radius: 25px; font-size: 18px; font-weight: bold;
            cursor: pointer; width: 100%; margin: 20px 0;
            transition: all 0.3s;
        }
        .create-btn:hover { transform: scale(1.05); }
        .game-screen { display: none; }
        .table { 
            max-width: 500px; margin: 20px auto; width: 90%;
            background: radial-gradient(circle, #1e3a8a, #0f0f23);
            border-radius: 25px; padding: 30px; text-align: center;
            box-shadow: 0 20px 40px rgba(0,0,0,0.5);
        }
        .action-bar { display: flex; gap: 15px; justify-content: center; flex-wrap: wrap; }
        .btn { padding: 15px 25px; border: none; border-radius: 25px;
            font-size: 16px; font-weight: bold; cursor: pointer; min-width: 120px; }
        .fold { background: linear-gradient(45deg, #EF4444, #dc2626); color: white; }
        .call { background: linear-gradient(45deg, #10B981, #059669); color: white; }
        .raise { background: linear-gradient(45deg, #3b82f6, #1d4ed8); color: white; }
        .btn:hover { transform: translateY(-3px) scale(1.05); }
    </style>
</head>
<body>
    <div class="header">
        <h1>üÉè Poker Lobby</h1>
        <div id="balance">–ë–∞–ª–∞–Ω—Å: 10,000 —Ñ–∏—à–µ–∫</div>
    </div>

    <!-- –ü–£–°–¢–û–ï –õ–û–ë–ë–ò -->
    <div class="lobby" id="lobby">
        <h2>üè† –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h2>
        <p class="empty-state">–ü–æ–∫–∞ –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏–≥—Ä...</p>
        <button class="create-btn" onclick="createFirstGame()">
            üöÄ –°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤—É—é –∏–≥—Ä—É
        </button>
        <p style="font-size: 14px; opacity: 0.6;">–°—Ç–∞–Ω—å –ø–µ—Ä–≤—ã–º –∏–≥—Ä–æ–∫–æ–º!</p>
    </div>

    <!-- –ò–ì–†–ê (—Å–∫—Ä—ã—Ç–∞) -->
    <div class="table game-screen" id="gameScreen">
        <div id="status">üéÆ –ò–≥—Ä–∞ –Ω–∞—á–∞–ª–∞—Å—å!</div>
        <div class="action-bar" id="actions">
            <button class="btn fold" onclick="sendAction('fold')">üóëÔ∏è –§–æ–ª–¥</button>
            <button class="btn call" onclick="sendAction('call')">‚úÖ –ö–æ–ª–ª</button>
            <button class="btn raise" onclick="sendAction('raise')">üìà –†–µ–π–∑</button>
        </div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();
        tg.MainButton.setText("üè† –í –ª–æ–±–±–∏").setColor('#10B981').show().onClick(showLobby);

        const user = tg.initDataUnsafe?.user || {};
        document.getElementById('balance').textContent = `–ë–∞–ª–∞–Ω—Å: ${user.username ? '@' + user.username : '10,000'} —Ñ–∏—à–µ–∫`;

        function createFirstGame() {
            tg.sendData(JSON.stringify({ action: 'create_room' }));
            showGame();
        }

        function showGame() {
            document.getElementById('lobby').style.display = 'none';
            document.getElementById('gameScreen').style.display = 'block';
            tg.MainButton.setText("üè† –í –ª–æ–±–±–∏");
        }

        function showLobby() {
            document.getElementById('lobby').style.display = 'block';
            document.getElementById('gameScreen').style.display = 'none';
            tg.MainButton.setText("üöÄ –°–æ–∑–¥–∞—Ç—å –∏–≥—Ä—É");
        }

        function sendAction(action) {
            tg.sendData(JSON.stringify({ action: action }));
            tg.showAlert(`${action.toUpperCase()} –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!`);
            document.getElementById('status').textContent = `${action.toUpperCase()}!`;
        }

        tg.MainButton.onClick(createFirstGame);
    </script>
</body>
</html>
