<!DOCTYPE html>
<html lang="ru">
<head>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Poker Bot</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Segoe UI', Arial, sans-serif; 
            background: linear-gradient(135deg, #0f0f23, #1e293b);
            color: white; min-height: 100vh; 
        }
        .header { text-align: center; padding: 20px; }
        #balance { 
            background: linear-gradient(45deg, #10B981, #059669);
            display: inline-block; padding: 12px 25px; border-radius: 30px; 
            font-weight: bold; margin: 10px 0;
        }
        .lobby { 
            max-width: 500px; margin: 20px auto; width: 90%;
            background: rgba(255,255,255,0.1); border-radius: 25px; 
            padding: 40px; text-align: center; backdrop-filter: blur(10px);
        }
        .create-btn { 
            background: linear-gradient(45deg, #8B5CF6, #7C3AED); 
            color: white; border: none; padding: 20px 40px; border-radius: 25px;
            font-size: 18px; font-weight: bold; cursor: pointer; width: 100%;
            transition: all 0.3s; margin: 20px 0;
        }
        .create-btn:hover { transform: scale(1.05); }
        .game-screen { display: none; }
        .table { 
            max-width: 500px; margin: 20px auto; width: 90%;
            background: radial-gradient(circle, #1e3a8a, #0f0f23);
            border-radius: 25px; padding: 30px; text-align: center;
        }
        .pot { 
            background: linear-gradient(45deg, #10B981, #059669);
            color: black; padding: 15px 30px; border-radius: 20px;
            font-size: 20px; font-weight: bold; margin: 20px 0;
        }
        .cards { display: flex; justify-content: center; gap: 10px; margin: 20px 0; }
        .card { 
            width: 55px; height: 80px; background: white; 
            border-radius: 10px; display: flex; flex-direction: column;
            justify-content: space-between; padding: 5px; font-weight: bold;
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }
        .action-bar { display: flex; gap: 15px; justify-content: center; flex-wrap: wrap; }
        .btn { 
            padding: 15px 25px; border: none; border-radius: 25px;
            font-size: 16px; font-weight: bold; cursor: pointer; min-width: 120px;
            transition: all 0.3s;
        }
        .fold { background: linear-gradient(45deg, #EF4444, #dc2626); color: white; }
        .call { background: linear-gradient(45deg, #10B981, #059669); color: white; }
        .raise { background: linear-gradient(45deg, #3b82f6, #1d4ed8); color: white; }
        .btn:hover { transform: translateY(-3px) scale(1.05); }
        .status { 
            background: rgba(255,255,255,0.1); padding: 15px; 
            border-radius: 15px; margin: 20px 0; backdrop-filter: blur(10px);
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üÉè Poker Bot</h1>
        <div id="balance">–ë–∞–ª–∞–Ω—Å: 10,000 —Ñ–∏—à–µ–∫</div>
    </div>

    <!-- –õ–û–ë–ë–ò (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É) -->
    <div class="lobby" id="lobby">
        <h2>üè† Poker Lobby</h2>
        <p style="opacity: 0.8; margin: 20px 0;">–°–æ–∑–¥–∞–π —Å–≤–æ—é –∏–≥—Ä—É!</p>
        <button class="create-btn" onclick="startGame()">
            üöÄ –ù–∞—á–∞—Ç—å –∏–≥—Ä—É
        </button>
    </div>

    <!-- –ò–ì–†–ê (—Å–∫—Ä—ã—Ç–∞) -->
    <div class="table game-screen" id="gameScreen">
        <div class="status" id="status">üéÆ –í–∞—à–∞ –æ—á–µ—Ä–µ–¥—å –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å</div>
        <div class="pot" id="pot">–ë–∞–Ω–∫: 1,250 —Ñ–∏—à–µ–∫</div>
        <div class="cards" id="communityCards">
            <div class="card">‚ô†Ô∏è<br>A</div>
            <div class="card">‚ô•Ô∏è<br>K</div>
            <div class="card">‚ô¶Ô∏è<br>Q</div>
        </div>
        <div class="action-bar" id="actions">
            <button class="btn fold" onclick="sendAction('fold')">üóëÔ∏è –§–æ–ª–¥</button>
            <button class="btn call" onclick="sendAction('call')">‚úÖ –ö–æ–ª–ª (50)</button>
            <button class="btn raise" onclick="sendAction('raise')">üìà –†–µ–π–∑ x2</button>
        </div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();
        
        // MainButton –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –ª–æ–±–±–∏
        tg.MainButton.setText("üè† –í –ª–æ–±–±–∏")
            .setColor('#10B981')
            .show()
            .onClick(showLobby);

        const user = tg.initDataUnsafe?.user || {};
        document.getElementById('balance').textContent = 
            `–ë–∞–ª–∞–Ω—Å: 10,000 —Ñ–∏—à–µ–∫ (${user.first_name || '–ò–≥—Ä–æ–∫'})`;

        // ‚úÖ –ù–ê–ß–ê–¢–¨ –ò–ì–†–£ (–ù–ï –∂–¥—ë–º –æ—Ç–≤–µ—Ç–∞ –±–æ—Ç–∞!)
        function startGame() {
            console.log("üöÄ –ò–≥—Ä–∞ –Ω–∞—á–∞–ª–∞—Å—å!");
            showGameScreen();
            tg.sendData(JSON.stringify({ action: 'start_game' }));
            tg.showAlert("üéÆ –ò–≥—Ä–∞ –Ω–∞—á–∞–ª–∞—Å—å!");
        }

        // ‚úÖ –ü–û–ö–ê–ó–ê–¢–¨ –ò–ì–†–û–í–û–ô –≠–ö–†–ê–ù
        function showGameScreen() {
            document.getElementById('lobby').style.display = 'none';
            document.getElementById('gameScreen').style.display = 'block';
            document.getElementById('status').textContent = 'üéÆ –í–∞—à–∞ –æ—á–µ—Ä–µ–¥—å!';
        }

        // ‚úÖ –í–ï–†–ù–£–¢–¨–°–Ø –í –õ–û–ë–ë–ò
        function showLobby() {
            document.getElementById('lobby').style.display = 'block';
            document.getElementById('gameScreen').style.display = 'none';
        }

        // ‚úÖ –û–¢–ü–†–ê–í–ò–¢–¨ –î–ï–ô–°–¢–í–ò–ï
        function sendAction(action) {
            tg.sendData(JSON.stringify({ action: action }));
            document.getElementById('status').textContent = 
                `‚úÖ ${action.toUpperCase()} –≤—ã–ø–æ–ª–Ω–µ–Ω–æ!`;
            tg.showAlert(`${action.toUpperCase()} –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –±–æ—Ç—É!`);
        }

        // –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ª–æ–±–±–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.onload = () => {
            console.log("‚úÖ WebApp –∑–∞–≥—Ä—É–∂–µ–Ω");
        };
    </script>
</body>
</html>
